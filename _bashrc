
function thornham () { source /tools/modules/init/bash ; module load thornham/1.0 ; }
alias        ssh_cbbuild="ssh 172.20.2.200"
alias           ssh_vbox="ssh netronome@192.168.56.101"
alias            ssh_cdp="ssh -X netronome@10.1.17.101"fp
alias            ssh_ele="ssh -X root@172.20.2.153"
alias            ssh_nfp="ssh -X nfp@dellnfp.winslowstark.org"
alias          ssh_nfpcl="ssh -X nfp@192.168.10.3"
alias           ssh_fpga="ssh -X user@172.20.2.155"
alias        ssh_cbtest1="ssh -X root@172.20.2.1"
alias        ssh_cbtest3="ssh -X root@172.20.2.3"
alias                 ll="ls -slagtr "
alias              clean="rm -f *~"
alias            gtkwave="/tools/gtkwave/gtkwave.app/Contents/MacOS/gtkwave-bin "
alias          hg_pull_r="find . -name '.hg' -print0 | xargs -0 -t -I "dirname" sh -c 'cd dirname/.. ; hg pull'"
alias        hg_update_r="find . -name '.hg' -print0 | xargs -0 -t -I "dirname" sh -c 'cd dirname/.. ; hg update' 2>&1 "
alias         hg_heads_r="find . -name '.hg' -print0 | xargs -0 -t -I "dirname" sh -c 'cd dirname/.. ; hg heads -q' 2>&1 "
alias       hg_heads_v_r="find . -name '.hg' -print0 | xargs -0 -t -I "dirname" sh -c 'cd dirname/.. ; hg heads' 2>&1 "
alias        hg_status_r="find . -name '.hg' -print0 | xargs -0 -t -I "dirname" sh -c 'cd dirname/.. ; hg status' 2>&1 "
alias            hg_id_r="find . -name '.hg' -print0 | xargs -0 -t -I "dirname" sh -c 'cd dirname/.. ; hg heads -q ; hg id' 2>&1 "
alias         hg_merge_r="find . -name '.hg' -print0 | xargs -0 -t -I "dirname" sh -c 'cd dirname/.. ; (hg merge || true)'"
alias   rose_make_global='root=`fgrep "default = " .hg/hgrc | sed "s/default = //" | sed "s/\/block_blessed.*//"` && find . -name "*hgrc" -exec sed -i .bkp "s&= $root/*&= ssh://gstark@hg-ma.netronome.com//repos/thornham/&" {} ";"'
alias opam_setup='eval `opam config env`'
# usage: hg_pull_from <dir>

function hg_pull_from_internal () { echo "Pulling from ${DIRSTACK[1]} to ${DIRSTACK[2]}"; ( cd "${DIRSTACK[2]}"; find . -name '.hg' -print0 | xargs -0 -t -I "dirname" sh -c "cd dirname/.. ; if [ -d ${DIRSTACK[1]}/dirname ]; then hg pull ${DIRSTACK[1]}/dirname/..; fi;" ) ; }
function hg_pull_from () { pushd $1 ; pushd . ; hg_pull_from_internal ; popd ; popd ; }

# function cless () { script -q /dev/null --command "$*" < /dev/null 2>&1 | less -R ;}
# Darwin
function cless () { script -q /dev/null $* < /dev/null 2>&1 | less -R ;}

# sed -ne '/ROOT/ s/ROOT = // p' `rose root`/.roseroot
#function rose_pull_local_new () { rose pull --peer /Volumes/NotBackedUp/hg_mirror/block_blessed/`sed -ne '/ROOT/ s/ROOT = // p' \`rose root\`/.roseroot` ; }
alias    rose_pull_local="rose -v pull -s /Volumes/NotBackedUp/hg_mirror/block_blessed/"
alias    rose_checkout_local="rose -H /Volumes/NotBackedUp/hg_mirror checkout"

alias          cdl_local="CYCLICITY_ROOT=/Users/gstark_old/Desktop/Development/cyclicity-cdl.hg"

alias crypto_reg="cd /Users/gstark/Desktop/Development/Mercurial/crypto.hg/verif/crypto_cif.hg/cdl; time /Users/gstark/Desktop/Development/Mercurial/cyclicity-cdl.hg/scripts/regress -n 8 -b ../../../build/cdl/osx cds regression.batch cep regression.batch cpa regression.batch cpm regression.batch cpt regression.batch csm regression.batch"

alias revert_genrtl="for d in */*.hg; do (cd $d; hg revert genrtl); done"
alias profile="CPUPROFILE_FREQUENCY=10000 CPUPROFILE=./exec.prof DYLD_INSERT_LIBRARIES='/usr/local/lib/libtcmalloc_and_profiler.dylib' "

alias           dvdclone="vobcopy -f -F 64 -v -v -m "

alias              vncpar="ssh gavin@10.211.55.4 'set path = (/usr/X11R6/bin $path);/usr/bin/vncconfig -display 10.211.55.4:1 -connect 10.211.55.2'"

alias              vncoc="ssh gstark@ocarina.netronome.com 'PATH=/usr/X11R6/bin:$PATH;/usr/bin/vncconfig -display ocarina.netronome.com:10 -connect 192.168.2.50'"
alias             vncret="ssh gstark@retsina.netronome.com 'set path = (/usr/X11R6/bin $path);/usr/bin/vncconfig -display retsina.netronome.com:10 -connect 192.168.2.50'"

alias         vncmastart="ssh gstark@mafarm07 'set path = (/usr/X11R6/bin $path);/usr/bin/vncserver :219 -geometry 1420x850'"
alias          vncmakill="ssh gstark@mafarm07 'set path = (/usr/X11R6/bin $path);/usr/bin/vncserver -kill :219'"
alias              vncma="ssh gstark@mafarm07 'set path = (/usr/X11R6/bin $path);/usr/bin/vncconfig -display mafarm08:219 -connect 192.168.2.50'"

alias         vncocstart="ssh gstark@ocarina.netronome.com 'PATH=/usr/X11R6/bin:$PATH;/usr/bin/vncserver :10 -geometry 1420x850'"
alias        vncocstartl="ssh gstark@ocarina.netronome.com 'PATH=/usr/X11R6/bin:$PATH;/usr/bin/vncserver :11 -geometry 1620x1000'"
alias          vncockill="ssh gstark@ocarina.netronome.com 'PATH=/usr/X11R6/bin:$PATH;/usr/bin/vncserver -kill :10'"

alias         vncobstart="ssh gstark@oboe.netronome.com 'set path = (/usr/X11R6/bin \$path);/usr/bin/vncserver :10 -geometry 1420x850'"
alias        vncobstartl="ssh gstark@192.168.2.35.netronome.com 'set path = (/usr/X11R6/bin \$path);/usr/bin/vncserver :11 -geometry 1620x1000'"
alias          vncobkill="ssh gstark@oboe.netronome.com 'set path = (/usr/X11R6/bin \$path);/usr/bin/vncserver -kill :10'"

alias        vnccymstart="ssh gstark@cymbal.netronome.com 'set path = (/usr/X11R6/bin \$path);/usr/bin/vncserver :10 -geometry 1420x850'"
alias       vnccymstartl="ssh gstark@cymbal.netronome.com 'set path = (/usr/X11R6/bin \$path);/usr/bin/vncserver :11 -geometry 1620x1000'"
alias         vnccymkill="ssh gstark@cymbal.netronome.com 'set path = (/usr/X11R6/bin \$path);/usr/bin/vncserver -kill :10'"

#passwd is p
#alias     tunnelxp_setup="ssh -L 6420:192.168.2.204:22 -p 51423 gavin@217.39.174.18"
#alias       tunnelxp_ssh="ssh -p 6420 gavin@127.0.0.1"

#alias   cello_to_ocarina="ssh -p 51423 -L 5931:192.168.2.32:5911 217.39.174.18"
#alias      cello_to_oboe="ssh -p 51423 -L 5930:192.168.2.35:5911 gavin@217.39.174.18"
#alias   cello_to_kabuild="ssh -p 51423 -L 5930:192.168.2.36:5911 gavin@217.39.174.18"
#alias   cello_to_cbtest0="ssh -p 51423 -L 5930:192.168.2.45:5911 gavin@217.39.174.18"

alias      ssh_config_uk="rm /Users/gavin/.ssh/config; ln -s /Users/gavin/.ssh/config_uk_office /Users/gavin/.ssh/config"
alias    ssh_config_home="rm /Users/gavin/.ssh/config; ln -s /Users/gavin/.ssh/config_home /Users/gavin/.ssh/config"
alias  ssh_config_sanjose="rm /Users/gavin/.ssh/config; ln -s /Users/gavin/.ssh/config_sanjose /Users/gavin/.ssh/config"

alias   rsync_timemachine='rsync -a -e ssh /Volumes/Time\ Machine\ Backups/Backups.backupdb/GJS_MBP/Latest/Main gstark@ocarina:/backup/gavin/MacBookProMain'

alias     mercurial="cd /Volumes/Secure/Mercurial"
alias          sdmt="cd ~/Desktop/Development/Mercurial/sdmt_silver"
alias    docbook.hg="cd ~/Desktop/Development/Mercurial/docbook.hg"

shopt -s cdspell

PS1='\t:\w:\!$ '

PS1="\[\033]0;\u@\h: \w\007\]bash\\$ "

# Bash prompts: \e[0;34m  is choose bright 31 (red) 32 (green) 34 (blue) etc for foreground
# Bash prompts: \e[m      is use default color
# Bash prompts: \!        is history number of this command
# Bash prompts: \#        is command number of this command
# Bash prompts: \t        is current time in 24-hour h:m:s
# Bash prompts: \w        is current working directory
# Bash prompts: \W        is basename of current working directory
# Bash prompts: \h        is hostname up to '.'
# Bash prompts: \H        is full hostname
# Bash prompts: \a        is a bell
PS1_head="\e[0;36m\t:\!:\e[0;33m\h\e[0;36m"
PS1_title="\e]0\W\a"
PS1_middle=""
PS1_tail="\e[0;36m:\w$\e[m\n$ "
if [ "z$GRIP_SHELL" != "z" ]
then
  PS1_title="\e]0;grip : $GRIP_ROOT_DIR : \W\a"
  PS1_middle=":\e[0;32mgrip:$GRIP_ROOT_DIR"
fi
PS1="$PS1_title$PS1_head$PS1_middle$PS1_tail"

HISTTIMEFORMAT='%T '

export CAML_LD_LIBRARY_PATH=/Users/gavinprivate/.opam/system/lib/stubslibs/:/Users/gavinprivate/.opam/system/lib/stublibs:/Users/gavinprivate/Git/brew/lib/ocaml/stublibs:/Users/gavinprivate/Git/brew/lib
export DYLD_LIBRARY_PATH=/System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/:/Users/gavinprivate/Git/brew/lib
